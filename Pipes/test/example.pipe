define pipe get_flickr

	input
	arguments count
	
	flickr, using
	    count as find 
	    [item] as images
	, applied.

output

define pipe main

	load utils.
	
	feed, using "" as url , extracted.
	
	analyse_content applied.
	
	loop, using
	    [item] as on
	    [item] as assign  
	    pipe get_flickr, using 66 as count, as trans
	    "all" as emit
	    // TODO all
	, applied.

output


define pipe multi
	$feed1 becomes feed, using "example.com/feed1" as url, extracted.
	$feed2 becomes feed, using "example.com/feed2" as url, extracted.
	
	$feed3 becomes reverse applied to $feed1.
	
	$union becomes union applied to $feed2 and $feed3.

outputs $union

define native loop
	input
	arguments on and assign and trans and emit
output

define native union
	inputs $arg1 and $arg2
output

define native reverse
	input
output

define native analyse_content
	input
output

define native feed
	arguments url
output

define native flickr
	inputs $stream
	arguments find and images
outputs $stream
