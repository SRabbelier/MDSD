load natives

define pipe example
	feed, using
		 "http://www.xkcd.com/rss.xml" as url
		, extracted.
	reverse applied.
output

run pipe example

define pipe reverse
input 
	$out becomes first applied.
	$rest becomes rest applied.

	if $stream isEmpty
	else
		$rest becomes reverse applied to $rest.
	endif
	
	$out becomes join applied to $rest and $out.
output: $out


define pipe first
input
	$first and $rest become split, using
		2 as from
		, applied.
output: $first

define pipe rest
input
	$out and $rest become split, using
		2 as from
		, applied.
output: $rest
