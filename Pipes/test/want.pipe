load natives

define pipe example
	feed, using
		 "http://www.xkcd.com/rss.xml" as url
		, extracted.
	partial_transformation, using
		pipe reverse as transformation
		, applied.
output

run pipe example

define pipe reverse
input 
	$out becomes first applied.
	$rest becomes rest applied.

	if $rest isEmpty
	else
		$rest becomes reverse applied to $rest.
	endif
	$out becomes join applied to $rest and $out.
	
output: $out

define pipe partial_transformation
input
	arguments: pipe transformation and 5 as up_to
	
	$part and $rest become split, using
		up_to as from
		, applied.
	
	$part becomes transfromation applied to $part.
	
	join applied to $part and $rest.

output

define pipe first
input
	$first and $rest become split, using
		2 as from
		, applied.
output: $first

define pipe rest
input
	$out and $rest become split, using
		2 as from
		, applied.
output: $rest
